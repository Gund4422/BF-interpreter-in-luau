--// Brainfuck IDE in Luau
--// includes drag + minimize animation

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Clear old GUIs
for _, gui in pairs(playerGui:GetChildren()) do
	if gui.Name == "BrainfuckGUI" then gui:Destroy() end
end

-- Main ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BrainfuckGUI"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 420, 0, 320)
mainFrame.Position = UDim2.new(0.5, -210, 0.5, -160)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
mainFrame.Active = true
mainFrame.Draggable = true

-- Titlebar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 30)
titleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
titleBar.BorderSizePixel = 0
titleBar.Parent = mainFrame

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -60, 1, 0)
titleLabel.Position = UDim2.new(0, 10, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Brainfuck Interpreter"
titleLabel.Font = Enum.Font.Code
titleLabel.TextSize = 18
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = titleBar

-- Minimize button
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 30, 0, 30)
toggleButton.Position = UDim2.new(1, -35, 0, 0)
toggleButton.Text = "ðŸ–¥ï¸"
toggleButton.Font = Enum.Font.Code
toggleButton.TextSize = 20
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.BackgroundTransparency = 1
toggleButton.Parent = titleBar

-- Textbox for code
local codeBox = Instance.new("TextBox")
codeBox.Size = UDim2.new(1, -20, 0, 180)
codeBox.Position = UDim2.new(0, 10, 0, 40)
codeBox.Text = "+++++[>++++++++<-]>+.+.+."
codeBox.ClearTextOnFocus = false
codeBox.Font = Enum.Font.Code
codeBox.TextSize = 16
codeBox.TextColor3 = Color3.new(1, 1, 1)
codeBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
codeBox.TextXAlignment = Enum.TextXAlignment.Left
codeBox.TextYAlignment = Enum.TextYAlignment.Top
codeBox.MultiLine = true
codeBox.Parent = mainFrame

-- Output
local outputBox = Instance.new("TextBox")
outputBox.Size = UDim2.new(1, -20, 0, 60)
outputBox.Position = UDim2.new(0, 10, 0, 230)
outputBox.Text = ""
outputBox.ClearTextOnFocus = false
outputBox.Font = Enum.Font.Code
outputBox.TextSize = 16
outputBox.TextColor3 = Color3.new(0, 1, 0)
outputBox.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
outputBox.TextXAlignment = Enum.TextXAlignment.Left
outputBox.TextYAlignment = Enum.TextYAlignment.Top
outputBox.MultiLine = true
outputBox.Parent = mainFrame

-- Run button
local runButton = Instance.new("TextButton")
runButton.Size = UDim2.new(0, 80, 0, 25)
runButton.Position = UDim2.new(1, -90, 1, -35)
runButton.Text = "Run"
runButton.Font = Enum.Font.Code
runButton.TextSize = 16
runButton.TextColor3 = Color3.new(1, 1, 1)
runButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
runButton.Parent = mainFrame

-- Brainfuck interpreter
local function runBrainfuck(code)
	local tape, pointer, output = {}, 1, ""
	for i = 1, 30000 do tape[i] = 0 end

	local pc, stack = 1, {}
	while pc <= #code do
		local c = string.sub(code, pc, pc)
		if c == ">" then
			pointer += 1
		elseif c == "<" then
			pointer -= 1
		elseif c == "+" then
			tape[pointer] = (tape[pointer] + 1) % 256
		elseif c == "-" then
			tape[pointer] = (tape[pointer] - 1) % 256
		elseif c == "." then
			output ..= string.char(tape[pointer])
		elseif c == "[" then
			if tape[pointer] == 0 then
				local loop = 1
				while loop > 0 do
					pc += 1
					local ch = string.sub(code, pc, pc)
					if ch == "[" then loop += 1 end
					if ch == "]" then loop -= 1 end
				end
			else
				table.insert(stack, pc)
			end
		elseif c == "]" then
			if tape[pointer] ~= 0 then
				pc = stack[#stack]
			else
				table.remove(stack)
			end
		end
		pc += 1
	end
	return output
end

-- Toggle animation
local minimized = false
local function toggleUI()
	minimized = not minimized
	if minimized then
		TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			Size = UDim2.new(0, 0, 0, 0),
			BackgroundTransparency = 1
		}):Play()
		task.wait(0.3)
		mainFrame.Visible = false
	else
		mainFrame.Visible = true
		mainFrame.Size = UDim2.new(0, 0, 0, 0)
		mainFrame.BackgroundTransparency = 1
		TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			Size = UDim2.new(0, 420, 0, 320),
			BackgroundTransparency = 0
		}):Play()
	end
end

toggleButton.MouseButton1Click:Connect(toggleUI)

-- Run connection
runButton.MouseButton1Click:Connect(function()
	outputBox.Text = runBrainfuck(codeBox.Text)
end)
